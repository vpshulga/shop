<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">
    <changeSet author="vpshulga (generated)" id="1538415787316-1">
        <createTable tableName="t_audit">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_CREATED" type="datetime"/>
            <column name="F_EVENT_TYPE" type="VARCHAR(30)"/>
            <column name="F_USER_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-2">
        <createTable tableName="t_comment">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_CONTENT" type="VARCHAR(1000)"/>
            <column name="F_CREATED" type="datetime"/>
            <column name="F_NEWS_ID" type="BIGINT"/>
            <column name="F_USER_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-3">
        <createTable tableName="t_discount">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_EXPIRE_DATE" type="date"/>
            <column name="F_NAME" type="VARCHAR(30)"/>
            <column name="F_PERCENT" type="DECIMAL(19, 2)"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-4">
        <createTable tableName="t_discount_item">
            <column name="F_ITEM_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="F_DISCOUNT_ID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-5">
        <createTable tableName="t_item">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_DESCRIPTION" type="VARCHAR(1500)"/>
            <column name="F_NAME" type="VARCHAR(50)"/>
            <column name="F_PRICE" type="DECIMAL(19, 2)"/>
            <column name="F_U_NUMBER" type="VARCHAR(10)"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-6">
        <createTable tableName="t_news">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_CONTENT" type="VARCHAR(1000)"/>
            <column name="F_CREATED" type="datetime"/>
            <column name="F_TITLE" type="VARCHAR(100)"/>
            <column name="F_USER_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-7">
        <createTable tableName="t_order">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_CREATED" type="datetime"/>
            <column name="F_QUANTITY" type="INT"/>
            <column name="F_STATUS" type="VARCHAR(255)"/>
            <column name="F_ITEM_ID" type="BIGINT"/>
            <column name="F_USER_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-8">
        <createTable tableName="t_permission">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_NAME" type="VARCHAR(30)"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-9">
        <createTable tableName="t_permission_role">
            <column name="F_ROLE_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_PERMISSION_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-10">
        <createTable tableName="t_profile">
            <column name="F_USER_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_ADDRESS" type="VARCHAR(200)"/>
            <column name="F_TELEPHONE" type="VARCHAR(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-11">
        <createTable tableName="t_role">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_NAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-12">
        <createTable tableName="t_user">
            <column autoIncrement="true" name="F_ID" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="F_EMAIL" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="F_IS_DISABLED" type="BIT(1)"/>
            <column name="F_NAME" type="VARCHAR(50)"/>
            <column name="F_PASSWORD" type="VARCHAR(50)"/>
            <column name="F_SURNAME" type="VARCHAR(50)"/>
            <column name="F_DISCOUNT_ID" type="BIGINT"/>
            <column name="F_ROLE_ID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-13">
        <createIndex indexName="FK1bnfdhs2ffsgb7twwqxbgj1wp" tableName="t_order">
            <column name="F_ITEM_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-14">
        <createIndex indexName="FK1dpyp0hr6159qy32fho9na0ya" tableName="t_order">
            <column name="F_USER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-15">
        <createIndex indexName="FK2mm6ehn6e6qno5s131opk6ou5" tableName="t_permission_role">
            <column name="F_PERMISSION_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-16">
        <createIndex indexName="FK6507v43ylmbe4fj6j1hs65805" tableName="t_user">
            <column name="F_ROLE_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-17">
        <createIndex indexName="FK7mh8p7k731m5lfakvwpoyiu1f" tableName="t_discount_item">
            <column name="F_DISCOUNT_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-18">
        <createIndex indexName="FKd5y4mg1tcpsyi2dcla37gka5m" tableName="t_news">
            <column name="F_USER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-19">
        <createIndex indexName="FKeniu19lguym67ac3regewvpcw" tableName="t_comment">
            <column name="F_NEWS_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-20">
        <createIndex indexName="FKh9g9cfe2h36vut30ur2c674jt" tableName="t_user">
            <column name="F_DISCOUNT_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-21">
        <createIndex indexName="FKhp2xreeuwv5aijppbnts2ddi1" tableName="t_discount_item">
            <column name="F_ITEM_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-22">
        <createIndex indexName="FKj08s3lhgtgxc5tricii8ic6h8" tableName="t_comment">
            <column name="F_USER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-23">
        <createIndex indexName="FKjrn3ioy0oylsyml20ai8qe3qc" tableName="t_audit">
            <column name="F_USER_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-24">
        <addForeignKeyConstraint baseColumnNames="F_ITEM_ID" baseTableName="t_order"
                                 constraintName="FK1bnfdhs2ffsgb7twwqxbgj1wp" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_item" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-25">
        <addForeignKeyConstraint baseColumnNames="F_USER_ID" baseTableName="t_order"
                                 constraintName="FK1dpyp0hr6159qy32fho9na0ya" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_user" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-26">
        <addForeignKeyConstraint baseColumnNames="F_PERMISSION_ID" baseTableName="t_permission_role"
                                 constraintName="FK2mm6ehn6e6qno5s131opk6ou5" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_permission" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-27">
        <addForeignKeyConstraint baseColumnNames="F_ROLE_ID" baseTableName="t_user"
                                 constraintName="FK6507v43ylmbe4fj6j1hs65805" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_role" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-28">
        <addForeignKeyConstraint baseColumnNames="F_DISCOUNT_ID" baseTableName="t_discount_item"
                                 constraintName="FK7mh8p7k731m5lfakvwpoyiu1f" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_discount" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-29">
        <addForeignKeyConstraint baseColumnNames="F_USER_ID" baseTableName="t_news"
                                 constraintName="FKd5y4mg1tcpsyi2dcla37gka5m" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_user" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-30">
        <addForeignKeyConstraint baseColumnNames="F_NEWS_ID" baseTableName="t_comment"
                                 constraintName="FKeniu19lguym67ac3regewvpcw" deferrable="false"
                                 initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_news" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-31">
        <addForeignKeyConstraint baseColumnNames="F_DISCOUNT_ID" baseTableName="t_user"
                                 constraintName="FKh9g9cfe2h36vut30ur2c674jt" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_discount" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-32">
        <addForeignKeyConstraint baseColumnNames="F_ITEM_ID" baseTableName="t_discount_item"
                                 constraintName="FKhp2xreeuwv5aijppbnts2ddi1" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_item" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-33">
        <addForeignKeyConstraint baseColumnNames="F_ROLE_ID" baseTableName="t_permission_role"
                                 constraintName="FKi4s0tahl2bgydcq9gx1nkkl6u" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_role" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-34">
        <addForeignKeyConstraint baseColumnNames="F_USER_ID" baseTableName="t_comment"
                                 constraintName="FKj08s3lhgtgxc5tricii8ic6h8" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_user" validate="true"/>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-35">
        <addForeignKeyConstraint baseColumnNames="F_USER_ID" baseTableName="t_audit"
                                 constraintName="FKjrn3ioy0oylsyml20ai8qe3qc" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="F_ID" referencedTableName="t_user" validate="true"/>
    </changeSet>

    <changeSet author="vpshulga (generated)" id="1538415787316-36">
        <insert tableName="t_role">
            <column name="F_ID" value="1"/>
            <column name="F_NAME" value="ADMIN"/>
        </insert>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-37">
        <insert tableName="t_role">
            <column name="F_ID" value="2"/>
            <column name="F_NAME" value="USER"/>
        </insert>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-38">
        <insert tableName="t_role">
            <column name="F_ID" value="3"/>
            <column name="F_NAME" value="SECURITY_USER"/>
        </insert>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-39">
        <insert tableName="t_role">
            <column name="F_ID" value="4"/>
            <column name="F_NAME" value="SALE_USER"/>
        </insert>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-40">
        <insert tableName="t_role">
            <column name="F_ID" value="5"/>
            <column name="F_NAME" value="CUSTOMER_USER"/>
        </insert>
    </changeSet>
    <changeSet author="vpshulga (generated)" id="1538415787316-41">
        <insert tableName="t_role">
            <column name="F_ID" value="6"/>
            <column name="F_NAME" value="API_USER"/>
        </insert>
    </changeSet>


    <changeSet author="vpshulga (generated)" id="1538415787316-42">
        <insert tableName="t_user">
            <column name="F_ID" value="1"/>
            <column name="F_EMAIL" value="admin@gmail.com"/>
            <column name="F_IS_DISABLED" valueBoolean="false"/>
            <column name="F_NAME" value="Admin"/>
            <column name="F_SURNAME" value="Admin"/>
            <column name="F_PASSWORD" value="pass"/>
            <column name="F_ROLE_ID" value="1"/>
        </insert>
    </changeSet>

    <changeSet author="vpshulga (generated)" id="1538415787316-43">
        <addUniqueConstraint columnNames="F_U_NUMBER"
                             constraintName="uid"
                             tableName="t_item"/>
    </changeSet>

    <changeSet author="vpshulga (generated)" id="1538415787316-44">
        <insert tableName="t_permission">
            <column name="F_ID" value="1"/>
            <column name="F_NAME" value="VIEW_DOCUMENTS"/>
        </insert>
    </changeSet>

    <changeSet author="vpshulga (generated)" id="1538415787316-45">
        <insert tableName="t_permission">
            <column name="F_ID" value="2"/>
            <column name="F_NAME" value="VIEW_USERS"/>
        </insert>
    </changeSet>

    <changeSet author="vpshulga (generated)" id="1538415787316-46">
        <insert tableName="t_permission_role">
            <column name="F_ROLE_ID" value="1"/>
            <column name="F_PERMISSION_ID" value="2"/>
        </insert>
    </changeSet>

    <changeSet author="vpshulga (generated)" id="1538415787316-47">
        <insert tableName="t_permission_role">
            <column name="F_ROLE_ID" value="2"/>
            <column name="F_PERMISSION_ID" value="1"/>
        </insert>
    </changeSet>

</databaseChangeLog>
